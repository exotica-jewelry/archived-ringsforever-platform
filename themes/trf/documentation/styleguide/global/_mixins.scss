//
// Mixins
//
// Documented with SassDoc.
// styleguide:ignore:start
//

/// Use calculateRem to insert pixel and rem font-size values.
///
/// @link http://www.stubbornella.org/content/2013/07/01/easy-peasy-rem-conversion-with-sass/
/// @author Fiona Chan
///
/// @requires calculateRem
///
/// @param {font-size} $size - Font size in pixels
///
/// @example scss - Sass
///   .title {
///     @include font-size(36px);
///   }
///
/// @example scss - CSS output
///   .title {
///     font-size: 36px;
///     font-size: 2.25rem;
///   }
/// @group Utilities

@mixin font-size($size) {
  font-size: $size;
  font-size: calculateRem($size);
}

/// Removes inline-block padding bug.
///
/// @link http://stackoverflow.com/a/5256640
/// @author Ivan Boothe
///
/// @example scss - Sass
///   ul.with-inline-blocks {
///     @include no-block-padding;
///   }
///
/// @example scss - CSS output
///   ul.with-inline-blocks {
///     font-size: 0;
///   }
/// @group Utilities

@mixin no-block-padding {
  font-size: 0;
}

/// Provides hover/active/focus styles in one definition.
///
/// @link https://gist.github.com/taupecat/4739443
/// @author Tracy Rotton
///
/// @example scss - Sass
///   a {
///     text-decoration: none;
///
///      @include hover-state {
///        text-decoration: underline;
///      }
///    }
///
/// @example scss - CSS output
///   a {
///     text-decoration: none;
///   }
///
///   a:hover {
///     text-decoration: underline;
///   }
///
///   a:active {
///     text-decoration: underline;
///   }
///
///   a:focus {
///     text-decoration: underline;
///   }
/// @group Utilities

@mixin is-on {
  &:hover,
  &:active,
  &:focus {
    @content;
  }
}

/// Image replacement.
///
/// @param {String} $imageURL - location of the image to use
///
/// @author Scott Kellum
///
/// @group Utilities
@mixin ir($imageURL) {
  background-image: url($imageURL);
  background-repeat: no-repeat;
  text-indent: 100%;
  white-space: nowrap;
  overflow: hidden;
}

/// Image replacement for embedded SVGs.
///
/// @param {String} $imagesource - full SVG source of the image
/// @requires svg-url
///
/// @author Ivan Boothe
///
/// @group Utilities
@mixin svg-ir($imagesource) {
  background-image: svg-url($imagesource);
  background-repeat: no-repeat;
  text-indent: 100%;
  white-space: nowrap;
  overflow: hidden;
}

/// Gives a card depth effect.
///
/// @param {Number} $depth - depth level (between 1 and 5)
///
/// @link http://www.google.com/design/spec/layout/layout-principles.html#layout-principles-dimensionality Google Design
/// @author Hugo Giraudel
///
/// @requires {function} top-shadow
/// @requires {function} bottom-shadow
///
/// @group Utilities
@mixin card($depth) {
  @if $depth < 1 {
    box-shadow: none;
  } @else if $depth > 5 {
    @warn "Invalid $depth `#{$depth}` for mixin `card`.";
  } @else {
    box-shadow: bottom-shadow($depth), top-shadow($depth);
  }
}

/// Creates pretty letter descenders when they intersect a border. Assumes the
/// text sits on the solid content background.
///
/// @param {Number} $stroke - stroke size (in the format 1px)
///
/// @author Ivan Boothe
///
/// @group Utilities
@mixin descenders($stroke: 2px) {
  text-shadow:
    ($stroke * -1) ($stroke * -1) 0 color(content_bg),
    $stroke ($stroke * -1) 0 color(content_bg),
    ($stroke * -1) $stroke 0 color(content_bg),
    $stroke $stroke 0 color(content_bg);
}

/// Removes flash when scaling in Webkit. Note this needs to be placed on the
/// item in its default state â€” before it is hovered, scrolled, etc.
///
/// @link http://viget.com/inspire/webkit-transform-kill-the-flash
/// @author Dan Tello
///
/// @example scss - Sass
///   .item {
///     height: 100px;
///     @include no-scale-flash;
///   }
///
///   .item:hover {
///     transform: scale(0.75);
///     transition: all 0.3s ease;
///   }
///
///   .is-scrolled .item {
///     transform: scale(0.5);
///     animation: scaleIn 0.75s;
///   }
///
/// @example scss - CSS output
///   .item {
///     height: 100px;
///     -webkit-transform: translateZ(0);
///     -webkit-backface-visibility: hidden;
///   }
///
///   .item:hover {
///     height: 75px;
///     transition: all 0.3s ease;
///   }
///
///   .is-scrolled .item {
///     height: 50px;
///     animation: scaleIn 0.75s;
///   }
/// @group Utilities

@mixin no-scale-flash {
  -webkit-transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  filter: blur(0);
}

/// Modern clearfix.
///
/// @link http://nicolasgallagher.com/micro-clearfix-hack/ A new micro clearfix hack
/// @author Nicolas Gallagher
///
/// @group Utilities

@mixin clearfix {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}

// styleguide:ignore:end
